<header x-data="{ mobileMenuOpen: false }" class="bg-white shadow-md sticky top-0 z-50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <a href="/" class="flex items-center">
          <img src="#" alt="Changa Logo" class="h-10 w-auto">
          <span class="text-xl font-bold text-green-600 ml-2">Changa</span>
        </a>
      </div>

      <!-- Desktop Menu -->
      <nav class="hidden md:flex items-center space-x-6">
        <a href="/" class="text-gray-700 hover:text-green-600 font-medium transition-colors duration-200">Home</a>
        <a href="/about/" class="text-gray-700 hover:text-green-600 font-medium transition-colors duration-200">About</a>

        <!-- Features Dropdown -->
        <div x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false" class="relative">
          <button @click="open = !open" class="flex items-center gap-1 text-gray-700 hover:text-green-600 font-medium transition-colors duration-200">
            Features
            <svg class="h-5 w-5 text-gray-400 transition-transform duration-200" :class="{ 'rotate-180': open }" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
            </svg>
          </button>
          <div x-show="open" x-transition x-cloak class="absolute left-0 z-10 mt-2 w-64 bg-white rounded-lg shadow-xl ring-1 ring-gray-200 py-2">
            <a href="#" class="block px-4 py-2.5 text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors duration-200">Savings & Goals</a>
            <a href="#" class="block px-4 py-2.5 text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors duration-200">Loans & AI Scoring</a>
            <a href="#" class="block px-4 py-2.5 text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors duration-200">Contributions & Reports</a>
            <a href="#" class="block px-4 py-2.5 text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors duration-200">Events & Meetings</a>
            <a href="#" class="block px-4 py-2.5 text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors duration-200">M-Pesa Integration</a>
          </div>
        </div>

        <a href="/pricing/" class="text-gray-700 hover:text-green-600 font-medium transition-colors duration-200">Pricing</a>
        <a href="/contact/" class="text-gray-700 hover:text-green-600 font-medium transition-colors duration-200">Contact</a>

        {% if user.is_authenticated %}
          <a href="/dashboard/" class="ml-4 text-white bg-red-600 px-5 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-semibold shadow-md">Dashboard</a>
        {% else %}
          <div class="flex items-center space-x-4 ml-4">
            <a href="/login/" class="border-2 border-green-600 px-5 py-2 rounded-lg text-green-600 hover:bg-green-600 hover:text-white transition-colors duration-200 font-medium shadow-sm">Login</a>
            <a href="/signup/" class="bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 font-semibold shadow-md">Sign Up</a>
          </div>
        {% endif %}
      </nav>

      <!-- Mobile Menu Toggle -->
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500">
        <svg x-show="!mobileMenuOpen" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
        <svg x-show="mobileMenuOpen" x-cloak class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div x-show="mobileMenuOpen" x-transition x-cloak class="md:hidden px-6 py-4 bg-white shadow-lg border-t border-gray-100">
    <div class="space-y-4">
      <a href="/" class="block text-gray-800 hover:text-green-600 font-medium py-2 border-b border-gray-100">Home</a>
      <a href="/about/" class="block text-gray-800 hover:text-green-600 font-medium py-2 border-b border-gray-100">About</a>
      
      <div class="border-b border-gray-100 pb-2">
        <p class="text-gray-800 font-medium py-2">Features</p>
        <div class="space-y-2 ml-3">
          <a href="#" class="block text-gray-700 hover:text-green-600 py-1.5">Savings & Goals</a>
          <a href="#" class="block text-gray-700 hover:text-green-600 py-1.5">Loans & AI Scoring</a>
          <a href="#" class="block text-gray-700 hover:text-green-600 py-1.5">Contributions & Reports</a>
          <a href="#" class="block text-gray-700 hover:text-green-600 py-1.5">Events & Meetings</a>
          <a href="#" class="block text-gray-700 hover:text-green-600 py-1.5">M-Pesa Integration</a>
        </div>
      </div>
      
      <a href="/pricing/" class="block text-gray-800 hover:text-green-600 font-medium py-2 border-b border-gray-100">Pricing</a>
      <a href="/contact/" class="block text-gray-800 hover:text-green-600 font-medium py-2 border-b border-gray-100">Contact</a>
      
      <div class="pt-2 space-y-3">
        {% if user.is_authenticated %}
          <a href="/dashboard/" class="block w-full text-center bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 font-medium shadow-sm">Dashboard</a>
        {% else %}
          <a href="/login/" class="block w-full text-center border-2 border-green-600 text-green-600 px-4 py-2.5 rounded-lg hover:bg-green-600 hover:text-white font-medium">Login</a>
          <a href="/signup/" class="block w-full text-center bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 font-medium shadow-sm">Sign Up</a>
        {% endif %}
      </div>
    </div>
  </div>
</header>